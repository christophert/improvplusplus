<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<link rel="stylesheet" href="style.css">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
	<style> 
		body {
			font-family: 'Open Sans', sans-serif;
			font-weight: 200; 
		}
		a {
			color: #ecf0f1;
		}
		a:hover {
			color: #34495e;
		}
		.navbar-inverse .navbar-brand {
			color: #ecf0f1;
		}
	</style>
	<script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
	<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
</head>
<body style="background-color: #ecf0f1;">
	<nav class="navbar navbar-inverse navbar-fixed-top" style="background-color: #34495e; border-color: #34495e;">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Improv Comedy</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#">Login</a></li>
            <li><a href="#">Sign Up</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
    	<div class="row">
        	<div class="col-sm-3 col-md-2 sidebar" style="background-color: #27ae60; border-color: #27ae60;">
          		<ul class="nav nav-sidebar">
            		<li class="active"><a href="index.html">Join Group <span class="sr-only">(current)</span></a></li>
            		<li><a href="add.html">Add Scene</a></li>
            		<li><a href="groups.html">View Groups</a></li>
          		</ul>
        	</div>
        	<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          		<div class="container">
				   <div class="row ">
				      <div class="col-md-8">
				         <div class="panel panel-info" style="border-color: #2ecc71;">
				            <div class="panel-heading" style="background-color: #2ecc71; border-color: #2ecc71; color: #ecf0f1;">
				               My Laptop is on Fire!!!!!
				            </div>
				            <div class="panel-body" style="overflow: hidden; max-height: 500px; height: 500px;">
				               <ul id="messages" class="media-list" style="max-height: 500px; overflow-y: scroll;">

				               </ul>
				            </div>
				            <div class="panel-footer">
				               <form id="message-form" action="#" method="post">
					                <textarea id="message" class="form-control"></textarea>
					                <button class="btn" type="submit" style="margin-top: 15px;">SEND</button>
				               </form>
				            </div>
				         </div>
				      </div>
				      <div class="col-md-4">
				         <div class="panel panel-primary" style="border-color: #2c3e50;">
				            <div class="panel-heading" style="border-color: #2c3e50; background-color:#2c3e50;">
				               ONLINE USERS
				            </div>
				            <div class="panel-body">
				               <ul class="media-list">
				                  <li class="media">
				                     <div class="media-body">
				                        <div class="media">
				                           <div class="media-body" >
				                              <h5>Alex Deo | User </h5>
				                              <small class="text-muted">Active From 3 hours</small>
				                           </div>
				                        </div>
				                     </div>
				                  </li>
				                  <li class="media">
				                     <div class="media-body">
				                        <div class="media">
				                           <div class="media-body" >
				                              <h5>Jhon Rexa | User </h5>
				                              <small class="text-muted">Active From 3 hours</small>
				                           </div>
				                        </div>
				                     </div>
				                  </li>
				               </ul>
				            </div>
				         </div>
				      </div>
				   </div>
				</div>
      		</div>
    	</div>
    </div>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<script>
		window.onload = function() {

		  // Get references to elements on the page.
		  var form = document.getElementById('message-form');
		  var messageField = document.getElementById('message');
		  var messagesList = document.getElementById('messages');
		  //var socketStatus = document.getElementById('status');


		  // Create a new WebSocket.
		  var socket = new WebSocket('ws://ipp.chtr.us');


		  // // Handle any errors that occur.
		  // socket.onerror = function(error) {
		  //   console.log('WebSocket Error: ' + error);
		  // };


		  // // Show a connected message when the WebSocket is opened.
		  // socket.onopen = function(event) {
		  //   socketStatus.innerHTML = 'Connected to: ws://ipp.chtr.us';
		  //   socketStatus.className = 'open';
		  // };


		  // Handle messages sent by the server.
		  socket.onmessage = function(event) {
		    var message = JSON.parse(event.data);
		    messagesList.innerHTML += '<li class="media"><div class="media-body"><div class="media"><div class="media-body" >' +
		                               message.message + '<br /><small class="text-muted">Alex Deo | 23rd June at 5:00pm</small><hr /></div></div></div></li>';
		  };


		  // // Show a disconnected message when the WebSocket is closed.
		  // socket.onclose = function(event) {
		  //   socketStatus.innerHTML = 'Disconnected from WebSocket.';
		  //   socketStatus.className = 'closed';
		  // };


		  // Send a message when the form is submitted.
		  form.onsubmit = function(e) {
		    e.preventDefault();

		    // Retrieve the message from the textarea.
		    var json = {
			    "message": messageField.value,
			    "username": "yogert96"
			};
			var message = JSON.stringify(json);

		    // Send the message through the WebSocket.
		    socket.send(message);

		    // Add the message to the messages list.
		    //messagesList.innerHTML += '<li class="sent"><span>Sent:</span>' + message +
		                              //'</li>';

		    // Clear out the message field.
		    messageField.value = '';

		    return false;
		  };

		};

	</script>
</body>
<html>
